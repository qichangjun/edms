<form name="form" (ngSubmit)="f.form.valid && setMulPro()" #f="ngForm" novalidate class="new--folder--modal">
  <h2 md-dialog-title>批量修改属性</h2>
  <md-dialog-content  class="new--folder--dialog--content">
    <md-tab-group md-dynamic-height md-border-bottom class="sidebar--info--content--box">
      <md-tab label="通用文件夹" class="sidebar--info--content--box__page">
        <div class="form-group new--folder--modal--attr--box" [ngClass]="{ 'has-error': f.submitted && !attr.attrName.valid && attr.required }" *ngFor="let attr of folderAttrLists;let i = index">
          <label class="attr--name" for="{{attr.attrName}}">{{attr.displayName}}：</label>
          <div style="position: relative;display:inline-block;">
            <div *ngIf="attr.inputMode == 1">
              <input id="{{attr.attrName}}" [disabled]="!attr.isChecked"  type="text" class="form-control attr--value" name="{{attr.attrName}}" [(ngModel)]="attr.attrValue" #{{attr.attrName}}="ngModel" [required]="attr.required" />
            </div>
            <div *ngIf="attr.inputMode == 2">
              <md-input-container  id="{{attr.attrName}}"  class="attr--value date--input--box">
                <input [disabled]="!attr.isChecked" mdInput [mdDatepicker]="startPicker"  name="{{attr.attrName}}" [(ngModel)]="attr.attrValue" #{{attr.attrName}}="ngModel" [required]="attr.required">
                <button [disabled]="!attr.isChecked" mdSuffix [mdDatepickerToggle]="startPicker"></button>
              </md-input-container>
              <md-datepicker #startPicker></md-datepicker>
            </div>
            <div *ngIf="attr.inputMode == 3">
              <md-radio-group id="{{attr.attrName}}" name="{{attr.attrName}}" [(ngModel)]="attr.attrValue">
                <md-radio-button [disabled]="!attr.isChecked" value="true">是</md-radio-button>
                <md-radio-button [disabled]="!attr.isChecked" value="false" >否</md-radio-button>
              </md-radio-group>
            </div>
            <div  *ngIf="attr.inputMode == 4">
              <md-select [disabled]="!attr.isChecked" id="{{attr.attrName}}" class="attr--value select--input--box"  name="{{attr.attrName}}" [(ngModel)]="attr.attrValue" #{{attr.attrName}}="ngModel" [required]="attr.required" >
                <md-option *ngFor="let selectValue of attr.attrOptions" [value]="selectValue.name">
                  {{selectValue.name}}
                </md-option>
              </md-select>
            </div>
            <div *ngIf="attr.inputMode == 5" class="attr--value">
              <a *ngIf="attr.isChecked" (click)="editMultiple(attr)">编辑</a>
              <span>{{attr.attrValue}}</span>
            </div>
            <md-checkbox name="{{attr.attrName}}checkbox" class="example-margin" [(ngModel)]="attr.isChecked"></md-checkbox>
            <div  messageVerify [elementName]="attr.attrName" *ngIf="f.submitted && !attr.attrValue && attr.required" class="FormMessage-container">
              <div class="form-messages">
                <div class="msg-tri-outside"></div>
                <div class="msg-tri-inside"></div>
                <div  class="form-messages__icon fa fa-exclamation-circle">
                  <div >{{attr.displayName}}不能为空</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div *ngIf="showMoreFolderAttr == false" (click)="showMoreFolderAttr = true;checkAttrList(2,'folderAttrLists')" class="new--folder--modal--attr--box">
          <span class="more">显示更多</span>
        </div>
      </md-tab>
      <md-tab label="项目文件">
        <div class="form-group new--folder--modal--attr--box" [ngClass]="{ 'has-error': f.submitted && !attr.attrName.valid && attr.required }" *ngFor="let attr of documentAttrLists;let i = index">
          <label class="attr--name" for="{{attr.attrName}}">{{attr.displayName}}：</label>
          <div style="position: relative;display:inline-block;">
            <div *ngIf="attr.inputMode == 1">
              <input id="{{attr.attrName}}" [disabled]="!attr.isChecked"  type="text" class="form-control attr--value" name="{{attr.attrName}}" [(ngModel)]="attr.attrValue" #{{attr.attrName}}="ngModel" [required]="attr.required" />
            </div>
            <div *ngIf="attr.inputMode == 2">
              <md-input-container  id="{{attr.attrName}}"  class="attr--value date--input--box">
                <input [disabled]="!attr.isChecked" mdInput [mdDatepicker]="startPicker"  name="{{attr.attrName}}" [(ngModel)]="attr.attrValue" #{{attr.attrName}}="ngModel" [required]="attr.required">
                <button [disabled]="!attr.isChecked" mdSuffix [mdDatepickerToggle]="startPicker"></button>
              </md-input-container>
              <md-datepicker #startPicker></md-datepicker>
            </div>
            <div *ngIf="attr.inputMode == 3">
              <md-radio-group id="{{attr.attrName}}" name="{{attr.attrName}}" [(ngModel)]="attr.attrValue">
                <md-radio-button [disabled]="!attr.isChecked" value="true">是</md-radio-button>
                <md-radio-button [disabled]="!attr.isChecked" value="false" >否</md-radio-button>
              </md-radio-group>
            </div>
            <div  *ngIf="attr.inputMode == 4">
              <md-select [disabled]="!attr.isChecked" id="{{attr.attrName}}" class="attr--value select--input--box"  name="{{attr.attrName}}" [(ngModel)]="attr.attrValue" #{{attr.attrName}}="ngModel" [required]="attr.required" >
                <md-option *ngFor="let selectValue of attr.attrOptions" [value]="selectValue.name">
                  {{selectValue.name}}
                </md-option>
              </md-select>
            </div>
            <div *ngIf="attr.inputMode == 5" class="attr--value">
              <a *ngIf="attr.isChecked" (click)="editMultiple(attr)">编辑</a>
              <span>{{attr.attrValue}}</span>
            </div>
            <md-checkbox name="{{attr.attrName}}checkbox" class="example-margin" [(ngModel)]="attr.isChecked"></md-checkbox>
            <div  messageVerify [elementName]="attr.attrName" *ngIf="f.submitted && !attr.attrValue && attr.required" class="FormMessage-container">
              <div class="form-messages">
                <div class="msg-tri-outside"></div>
                <div class="msg-tri-inside"></div>
                <div  class="form-messages__icon fa fa-exclamation-circle">
                  <div >{{attr.displayName}}不能为空</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div *ngIf="showMoreDocumentAttr == false" (click)="showMoreDocumentAttr = true;checkAttrList(2,'documentAttrLists')" class="new--folder--modal--attr--box">
          <span class="more">显示更多</span>
        </div>
      </md-tab>
    </md-tab-group>
    <loading-message *ngIf="loading" ></loading-message>
  </md-dialog-content>
  <md-dialog-actions>
    <button md-button [disabled]="loading" class="btn btn-sure">确定</button>
    <button md-button md-dialog-close >取消</button>
  </md-dialog-actions>
</form>
